<div class="netflix-movie-card">
    <a [routerLink]="['/peliculas', peliculaId]" class="card-link">
        <!-- Imagen con aspect ratio fijo -->
        <div class="poster-container">
            @if(peliculaDetalle!.poster_path != null) {
                <img src="{{peliculaDetalle!.poster_path | imagen}}" 
                     class="poster-image"
                     alt="{{peliculaDetalle!.title}}">
            } @else {
                <img [src]="imgPlaceholderPelSer" 
                     class="poster-image" 
                     alt="{{peliculaDetalle!.title}}">
            }
            
            <!-- Overlay de rating -->
            <div class="rating-overlay" [style]="peliculaDetalle!.vote_average | averageColor">
                <span class="rating-text">
                    <i class="bi bi-star-fill"></i> {{peliculaDetalle!.vote_average | number:'1.0-1' }}
                </span>
            </div>
        </div>

        <!-- Información de la película -->
        <div class="card-info">
            <h5 class="movie-title freeman">{{peliculaDetalle!.title}}</h5>

            <!-- Año y géneros -->
            <div class="movie-meta">
                @if(peliculaDetalle!.genres.length > 0 && peliculaDetalle!.release_date !== ''){
                    <p class="meta-text gris freeman">
                        {{peliculaDetalle!.release_date | date:'yyyy'}} • 
                        <span *ngFor="let genre of peliculaDetalle!.genres; let i = index">
                            {{ genre.name }}<span *ngIf="i < peliculaDetalle!.genres.length - 1"> / </span>
                        </span>
                    </p>
                }@else if(peliculaDetalle!.genres.length > 0 && peliculaDetalle!.release_date === ''){
                    <p class="meta-text gris freeman">
                        <span *ngFor="let genre of peliculaDetalle!.genres; let i = index">
                            {{ genre.name }}<span *ngIf="i < peliculaDetalle!.genres.length - 1"> / </span>
                        </span>
                    </p>
                }@else if(peliculaDetalle!.genres.length == 0 && peliculaDetalle!.release_date === ''){
                    <p class="meta-text gris freeman">-</p>
                }@else{
                    <p class="meta-text gris freeman">{{peliculaDetalle!.release_date | date:'yyyy'}}</p>
                }
            </div>

            <!-- Duración y certificación -->
            <div class="movie-details">
                <span class="detail-item gris freeman">{{peliculaDetalle!.runtime | horasMin}}</span>
                <span class="detail-item gris freeman certification" 
                      [style]="getCertification() | edadColor" 
                      [innerHTML]="getCertification()"></span>
            </div>
        </div>
    </a>
</div>