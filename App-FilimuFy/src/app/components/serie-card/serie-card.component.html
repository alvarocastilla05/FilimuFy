<div class="netflix-movie-card">
    <a [routerLink]="['/series', serieId]" class="card-link">
        <!-- Imagen con aspect ratio fijo -->
        <div class="poster-container">
            @if(serieDetalle!.poster_path != null) {
                <img src="{{serieDetalle!.poster_path | imagen}}" 
                     class="poster-image"
                     alt="{{serieDetalle!.name}}">
            } @else {
                <img [src]="imgPlaceholderPelSer" 
                     class="poster-image" 
                     alt="{{serieDetalle!.name}}">
            }
            
            <!-- Overlay de rating -->
            <div class="rating-overlay" [style]="serieDetalle!.vote_average | averageColor">
                <span class="rating-text">
                    <i class="bi bi-star-fill"></i> {{serieDetalle!.vote_average | number:'1.0-1' }}
                </span>
            </div>
        </div>

        <!-- Información de la serie -->
        <div class="card-info">
            <h5 class="movie-title freeman">{{serieDetalle!.name}}</h5>

            <!-- Año y géneros -->
            <div class="movie-meta">
                @if(serieDetalle!.genres.length > 0 && serieDetalle!.first_air_date !== ''){
                    <p class="meta-text gris freeman">
                        {{serieDetalle!.first_air_date | date:'yyyy'}} - 
                        <span *ngFor="let genre of serieDetalle!.genres; let i = index">{{ genre.name }}
                            <span *ngIf="i < serieDetalle!.genres.length - 1"> / </span>
                        </span>
                    </p>
                }@else if(serieDetalle!.genres.length > 0 && serieDetalle!.first_air_date === ''){
                    <p class="meta-text gris freeman">
                        <span *ngFor="let genre of serieDetalle!.genres; let i = index">{{ genre.name }}
                            <span *ngIf="i < serieDetalle!.genres.length - 1"> / </span>
                        </span>
                    </p>
                }@else if(serieDetalle!.genres.length == 0 && serieDetalle!.first_air_date === ''){
                    <p class="meta-text gris freeman">-</p>
                }@else {
                    <p class="meta-text gris freeman">{{serieDetalle!.first_air_date | date:'yyyy'}}</p>
                }
            </div>

            <!-- Información adicional -->
            <div class="additional-info">
                <div class="d-flex justify-content-between align-items-center">
                    <p class="meta-text gris freeman m-0">
                        <span *ngIf="serieDetalle!.number_of_seasons === 1">
                            {{serieDetalle!.number_of_seasons}} temporada
                        </span>
                        <span *ngIf="serieDetalle!.number_of_seasons !== 1">
                            {{serieDetalle!.number_of_seasons}} temporadas
                        </span>
                    </p>
                    <p class="meta-text gris freeman m-0" 
                       [style]="getCertification() | edadColor" 
                       [innerHTML]="getCertification()"></p>
                </div>
            </div>
        </div>
    </a>
</div>